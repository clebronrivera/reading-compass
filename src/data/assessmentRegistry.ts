import { Assessment, ComponentCode } from '@/types/registry';

// All 23 assessments from the Master Matrix
export const assessmentRegistry: Assessment[] = [
  // Phonological Awareness (PA) - 4 assessments
  {
    assessment_id: 'PA-RHYM',
    component_code: 'PA',
    subcomponent_code: 'RHYM',
    subcomponent_name: 'Rhyme Recognition',
    content_model: 'Discrete Items',
    grade_range: 'PreK-K',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },
  {
    assessment_id: 'PA-SYLS',
    component_code: 'PA',
    subcomponent_code: 'SYLS',
    subcomponent_name: 'Syllable Segmentation',
    content_model: 'Discrete Items',
    grade_range: 'PreK-1',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },
  {
    assessment_id: 'PA-OONS',
    component_code: 'PA',
    subcomponent_code: 'OONS',
    subcomponent_name: 'Onset-Rime Blending',
    content_model: 'Discrete Items',
    grade_range: 'K-1',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },
  {
    assessment_id: 'PA-PHON',
    component_code: 'PA',
    subcomponent_code: 'PHON',
    subcomponent_name: 'Phoneme Segmentation',
    content_model: 'Discrete Items',
    grade_range: 'K-2',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },

  // Phonics (PH) - 6 assessments
  {
    assessment_id: 'PH-ALPH',
    component_code: 'PH',
    subcomponent_code: 'ALPH',
    subcomponent_name: 'Alphabet Knowledge',
    content_model: 'Fixed Set',
    grade_range: 'PreK-1',
    status: 'active',
    current_asr_version_id: 'PH-ALPH.v1',
    content_bank_ids: ['PH-ALPH.bank1'],
  },
  {
    assessment_id: 'PH-LWID',
    component_code: 'PH',
    subcomponent_code: 'LWID',
    subcomponent_name: 'Letter-Word Identification',
    content_model: 'Graded Word List',
    grade_range: 'K-3',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },
  {
    assessment_id: 'PH-PSWD',
    component_code: 'PH',
    subcomponent_code: 'PSWD',
    subcomponent_name: 'Pseudoword Decoding',
    content_model: 'Graded Nonsense Words',
    grade_range: 'K-3',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },
  {
    assessment_id: 'PH-WPAT',
    component_code: 'PH',
    subcomponent_code: 'WPAT',
    subcomponent_name: 'Word Pattern Knowledge',
    content_model: 'Pattern-Based Items',
    grade_range: '1-5',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },
  {
    assessment_id: 'PH-MPHY',
    component_code: 'PH',
    subcomponent_code: 'MPHY',
    subcomponent_name: 'Morphophonemic Patterns',
    content_model: 'Morpheme Items',
    grade_range: '3-8',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },
  {
    assessment_id: 'PH-SPEL',
    component_code: 'PH',
    subcomponent_code: 'SPEL',
    subcomponent_name: 'Spelling Inventory',
    content_model: 'Developmental Stages',
    grade_range: 'K-8',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },

  // Fluency (FL) - 4 assessments
  {
    assessment_id: 'FL-LNF',
    component_code: 'FL',
    subcomponent_code: 'LNF',
    subcomponent_name: 'Letter Naming Fluency',
    content_model: 'Timed Random Letters',
    grade_range: 'PreK-1',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },
  {
    assessment_id: 'FL-PSF',
    component_code: 'FL',
    subcomponent_code: 'PSF',
    subcomponent_name: 'Phoneme Segmentation Fluency',
    content_model: 'Timed Segmentation',
    grade_range: 'K-1',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },
  {
    assessment_id: 'FL-WRF',
    component_code: 'FL',
    subcomponent_code: 'WRF',
    subcomponent_name: 'Word Reading Fluency',
    content_model: 'Timed Word List',
    grade_range: '1-3',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },
  {
    assessment_id: 'FL-ORF',
    component_code: 'FL',
    subcomponent_code: 'ORF',
    subcomponent_name: 'Oral Reading Fluency',
    content_model: 'Timed Passage',
    grade_range: '1-8',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },

  // Vocabulary (VO) - 4 assessments
  {
    assessment_id: 'VO-RPVT',
    component_code: 'VO',
    subcomponent_code: 'RPVT',
    subcomponent_name: 'Receptive Picture Vocabulary',
    content_model: 'Picture Matching',
    grade_range: 'PreK-2',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },
  {
    assessment_id: 'VO-EPVT',
    component_code: 'VO',
    subcomponent_code: 'EPVT',
    subcomponent_name: 'Expressive Picture Vocabulary',
    content_model: 'Picture Naming',
    grade_range: 'PreK-3',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },
  {
    assessment_id: 'VO-VOCA',
    component_code: 'VO',
    subcomponent_code: 'VOCA',
    subcomponent_name: 'Vocabulary in Context',
    content_model: 'Passage-Based Items',
    grade_range: '2-8',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },
  {
    assessment_id: 'VO-MORP',
    component_code: 'VO',
    subcomponent_code: 'MORP',
    subcomponent_name: 'Morphological Awareness',
    content_model: 'Word Parts Items',
    grade_range: '2-8',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },

  // Reading Comprehension (RC) - 5 assessments
  {
    assessment_id: 'RC-LIST',
    component_code: 'RC',
    subcomponent_code: 'LIST',
    subcomponent_name: 'Listening Comprehension',
    content_model: 'Read-Aloud Passage',
    grade_range: 'PreK-2',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },
  {
    assessment_id: 'RC-SENT',
    component_code: 'RC',
    subcomponent_code: 'SENT',
    subcomponent_name: 'Sentence Comprehension',
    content_model: 'Sentence-Picture Match',
    grade_range: 'K-2',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },
  {
    assessment_id: 'RC-MAZE',
    component_code: 'RC',
    subcomponent_code: 'MAZE',
    subcomponent_name: 'Maze/Cloze Passages',
    content_model: 'Fill-in-Blank Passage',
    grade_range: '1-8',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },
  {
    assessment_id: 'RC-NARR',
    component_code: 'RC',
    subcomponent_code: 'NARR',
    subcomponent_name: 'Narrative Comprehension',
    content_model: 'Passage + Questions',
    grade_range: '2-8',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },
  {
    assessment_id: 'RC-INFO',
    component_code: 'RC',
    subcomponent_code: 'INFO',
    subcomponent_name: 'Informational Comprehension',
    content_model: 'Passage + Questions',
    grade_range: '2-8',
    status: 'stub',
    current_asr_version_id: null,
    content_bank_ids: [],
  },
];

// Helper functions
export function getAssessmentsByComponent(component: ComponentCode): Assessment[] {
  return assessmentRegistry.filter(a => a.component_code === component);
}

export function getAssessmentById(id: string): Assessment | undefined {
  return assessmentRegistry.find(a => a.assessment_id === id);
}

export function getComponentCounts(): Record<ComponentCode, number> {
  return {
    PA: assessmentRegistry.filter(a => a.component_code === 'PA').length,
    PH: assessmentRegistry.filter(a => a.component_code === 'PH').length,
    FL: assessmentRegistry.filter(a => a.component_code === 'FL').length,
    VO: assessmentRegistry.filter(a => a.component_code === 'VO').length,
    RC: assessmentRegistry.filter(a => a.component_code === 'RC').length,
  };
}
